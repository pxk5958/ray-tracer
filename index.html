<!DOCTYPE html>

<html lang="en">
	<head>
		<title>WebGL Ray Tracer</title>
		<meta charset="utf-8">
	</head>

	<body>
		<script src="js/three.min.js"></script>
		<script src="js/controls/OrbitControls.js"></script>
			
        <script>
        	/* global THREE */
        	
        	// Set the scene size.
			const WIDTH = 400;
			const HEIGHT = 300;
			
			// Set some camera attributes.
			const VIEW_ANGLE = 45;
			const ASPECT = WIDTH / HEIGHT;
			const NEAR = 0.1;
			const FAR = 10000;
			
            var scene, camera, renderer, controls;
            var sphere1, sphere2, ground, pointLight;
			
			init();
			//render();  // remove when using next line for animation loop (requestAnimationFrame)
			animate();
			
			function init() {
				// Create a WebGL renderer, camera
				// and a scene
				scene = new THREE.Scene();
				renderer = new THREE.WebGLRenderer();
				camera =
				    new THREE.PerspectiveCamera(
				        VIEW_ANGLE,
				        ASPECT,
				        NEAR,
				        FAR
				    );
				
				// Add the camera to the scene.
				scene.add(camera);
				
				// Start the renderer
				renderer.setSize( WIDTH, HEIGHT );
				
				controls = new THREE.OrbitControls( camera, renderer.domElement );
				//controls.addEventListener( 'change', render ); // remove when using animation loop
				// enable animation loop when using damping or autorotation
				controls.enableDamping = true;
				controls.dampingFactor = 0.25;
				controls.enableZoom = false;

			    
			    var groundMaterial = new THREE.MeshPhongMaterial( { color: 0x00ff00, wireframe: false } );
			    ground = new THREE.Mesh(
			    	new THREE.PlaneGeometry(400, 1600, 32, 32),
			    	groundMaterial
			    	);
			    ground.position.z = -300;
			    ground.position.y = -80;
			    ground.position.x = -85;
			    ground.rotation.x = -Math.PI / 2;
			    scene.add(ground);
				
				var sphere1Material = new THREE.MeshPhongMaterial( { color: 0xff0000, wireframe: false } );
			    sphere1 = new THREE.Mesh(
					new THREE.SphereGeometry(40, 16, 16),
					sphere1Material
					);
				sphere1.position.z = -200;
				sphere1.position.y = 5;
				sphere1.position.x = 2;
				scene.add(sphere1);
				
				var sphere2Material = new THREE.MeshPhongMaterial( { color: 0x0000ff, wireframe: false } );
			    sphere2 = new THREE.Mesh(
					new THREE.SphereGeometry(40, 16, 16),
					sphere2Material
					);
				sphere2.position.z = -300;
				sphere2.position.y = -30;
				sphere2.position.x = -65;
				scene.add(sphere2);
			
				
				// create a point light
				pointLight = new THREE.PointLight(0xFFFFFF);
				
				// set its position
				pointLight.position.x = 40;
				pointLight.position.y = 150;
				pointLight.position.z = 40;
				
				// add to the scene
				scene.add(pointLight);
			
			    document.body.appendChild( renderer.domElement );
			}
			
			function animate () {
				// Schedule the next frame.
				requestAnimationFrame(animate);
				
				controls.update(); // required if controls.enableDamping = true, or if controls.autoRotate = true
			
				render();
			}
			
			function render() {
				renderer.render( scene, camera );
			}
        </script>
	</body>
</html>
